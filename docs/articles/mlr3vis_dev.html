<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>mlr3 vis development • mlr3vis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="mlr3 vis development">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mlr3vis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/mlr3vis_dev.html">mlr3 vis development</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>mlr3 vis development</h1>
                        <h4 class="author">Linlin Yin</h4>
            
            <h4 class="date">2019-07-03</h4>
      
      
      <div class="hidden name"><code>mlr3vis_dev.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" title="1"><span class="co">#library(mlr3)</span></a>
<a class="sourceLine" id="cb1-2" title="2"><span class="co">#library(ggplot2)</span></a>
<a class="sourceLine" id="cb1-3" title="3"><span class="co">#library(data.table)</span></a>
<a class="sourceLine" id="cb1-4" title="4"><span class="co">#library(dplyr)</span></a>
<a class="sourceLine" id="cb1-5" title="5"><span class="co">#library(checkmate)</span></a>
<a class="sourceLine" id="cb1-6" title="6"></a>
<a class="sourceLine" id="cb1-7" title="7"><span class="co">#devtools::load_all("d:/source/mlr3vis/")</span></a>
<a class="sourceLine" id="cb1-8" title="8"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(mlr3)</a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(mlr3vis)</a>
<a class="sourceLine" id="cb1-10" title="10"><span class="co">#&gt; Loading required package: data.table</span></a>
<a class="sourceLine" id="cb1-11" title="11"><span class="co">#&gt; Loading required package: ggplot2</span></a>
<a class="sourceLine" id="cb1-12" title="12"><span class="co">#&gt; Loading required package: ggpubr</span></a>
<a class="sourceLine" id="cb1-13" title="13"><span class="co">#&gt; Loading required package: magrittr</span></a>
<a class="sourceLine" id="cb1-14" title="14"><span class="co">#&gt; mlr3vis global settings: mlr_plot_theme=theme_pubr</span></a></code></pre></div>
<p>mlr: <a href="https://mlr.mlr-org.com/articles/tutorial/predict.html" class="uri">https://mlr.mlr-org.com/articles/tutorial/predict.html</a></p>
<p>mlr3: <a href="https://mlr3book.mlr-org.com/" class="uri">https://mlr3book.mlr-org.com/</a></p>
<div id="learner-and-task-related" class="section level1">
<h1 class="hasAnchor">
<a href="#learner-and-task-related" class="anchor"></a>Learner and Task related</h1>
<div id="plotlearnerprediction" class="section level2">
<h2 class="hasAnchor">
<a href="#plotlearnerprediction" class="anchor"></a>plotLearnerPrediction</h2>
<p>This function need learner and task as input. The goal of this function is to show the priediction results with distribution of interested features. It is similar as the function with same name in mlr but it used orginal model in learner (usually used all features) rather than make a new model based on only two interested features. The interestedFeatures were only used for visulization purpose as X axis and Y axis. To show the distribution of prediction result or probability with changes of interested features, grid with different colours were plotted as background. The prediction of grid used orginal model in learner, and interestedFeatures among X and Y axis as data. The median values or most common values for Features used in model but not in interestedFeatures were used to paticipate prediction of the grid background.</p>
<p>Parameters:<br>
* learner: need to be trained and predict_type = “prob”<br>
* task: task, no requirement<br>
* prob.alpha: FALSE shows prediction result; TRUE shows maximal probability</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" title="1"></a>
<a class="sourceLine" id="cb2-2" title="2">task =<span class="st"> </span>mlr_tasks<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/get">get</a></span>(<span class="st">"iris"</span>)</a>
<a class="sourceLine" id="cb2-3" title="3">learner =<span class="st"> </span>mlr_learners<span class="op">$</span><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/get">get</a></span>(<span class="st">"classif.rpart"</span>)</a>
<a class="sourceLine" id="cb2-4" title="4">learner<span class="op">$</span>predict_type =<span class="st"> "prob"</span></a>
<a class="sourceLine" id="cb2-5" title="5">learner<span class="op">$</span><span class="kw">train</span>(task)</a>
<a class="sourceLine" id="cb2-6" title="6"><span class="co">#&gt; &lt;LearnerClassifRpart:classif.rpart&gt;</span></a>
<a class="sourceLine" id="cb2-7" title="7"><span class="co">#&gt; Model: rpart</span></a>
<a class="sourceLine" id="cb2-8" title="8"><span class="co">#&gt; Parameters: xval=0</span></a>
<a class="sourceLine" id="cb2-9" title="9"><span class="co">#&gt; Packages: rpart</span></a>
<a class="sourceLine" id="cb2-10" title="10"><span class="co">#&gt; Predict Type: prob</span></a>
<a class="sourceLine" id="cb2-11" title="11"><span class="co">#&gt; Feature types: logical, integer, numeric, character, factor,</span></a>
<a class="sourceLine" id="cb2-12" title="12"><span class="co">#&gt;   ordered</span></a>
<a class="sourceLine" id="cb2-13" title="13"><span class="co">#&gt; Properties: importance, missings, multiclass, selected_features,</span></a>
<a class="sourceLine" id="cb2-14" title="14"><span class="co">#&gt;   twoclass, weights</span></a>
<a class="sourceLine" id="cb2-15" title="15"></a>
<a class="sourceLine" id="cb2-16" title="16"><span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">FALSE</span>)</a></code></pre></div>
<p><img src="mlr3vis_dev_files/figure-html/unnamed-chunk-2-1.png" width="672"></p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" title="1"><span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="mlr3vis_dev_files/figure-html/unnamed-chunk-2-2.png" width="672"></p>
</div>
<div id="combination-of-plotlearnerprediction" class="section level2">
<h2 class="hasAnchor">
<a href="#combination-of-plotlearnerprediction" class="anchor"></a>Combination of plotLearnerPrediction</h2>
<p>It is very interesting to analyze how the distribution of prediction result among different combination of features. Here we found that although there were four features in the learner, they have different roles. “Petal.Length” was used to preidcit “setosa”; “Petal.Width” was used to predict “virginica”. “Sepal.Width” and “Sepal.Length” didn’t contribute in this model.</p>
<p><strong>I like this figure (go through all combination of features and see how the preidcition results look like) and going to make this as a function too.</strong></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" title="1">p1=<span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>, <span class="dt">interestedFeatures=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Sepal.Length"</span>,<span class="st">"Petal.Length"</span>))</a>
<a class="sourceLine" id="cb4-2" title="2"></a>
<a class="sourceLine" id="cb4-3" title="3">p2=<span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>, <span class="dt">interestedFeatures=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Sepal.Length"</span>,<span class="st">"Petal.Width"</span>))</a>
<a class="sourceLine" id="cb4-4" title="4"></a>
<a class="sourceLine" id="cb4-5" title="5">p3=<span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>, <span class="dt">interestedFeatures=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Sepal.Length"</span>,<span class="st">"Sepal.Width"</span>))</a>
<a class="sourceLine" id="cb4-6" title="6"></a>
<a class="sourceLine" id="cb4-7" title="7">p4=<span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>, <span class="dt">interestedFeatures=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Petal.Width"</span>,<span class="st">"Petal.Length"</span>))</a>
<a class="sourceLine" id="cb4-8" title="8"></a>
<a class="sourceLine" id="cb4-9" title="9">p5=<span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>, <span class="dt">interestedFeatures=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Petal.Width"</span>,<span class="st">"Sepal.Width"</span>))</a>
<a class="sourceLine" id="cb4-10" title="10"></a>
<a class="sourceLine" id="cb4-11" title="11">p6=<span class="kw"><a href="../reference/plotLearnerPrediction.html">plotLearnerPrediction</a></span>(<span class="dt">learner=</span>learner,<span class="dt">task=</span>task,<span class="dt">prob.alpha =</span> <span class="ot">TRUE</span>, <span class="dt">interestedFeatures=</span> <span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/c">c</a></span>(<span class="st">"Petal.Width"</span>,<span class="st">"Sepal.Length"</span>))</a>
<a class="sourceLine" id="cb4-12" title="12"></a>
<a class="sourceLine" id="cb4-13" title="13"><span class="kw">ggarrange</span>(p1,p2,p3,p4,p5,p6,<span class="dt">common.legend =</span> <span class="ot">TRUE</span>,<span class="dt">ncol=</span><span class="dv">2</span>,<span class="dt">nrow=</span><span class="dv">3</span>)</a></code></pre></div>
<p><img src="mlr3vis_dev_files/figure-html/unnamed-chunk-3-1.png" width="672"></p>
</div>
</div>
<div id="other-features" class="section level1">
<h1 class="hasAnchor">
<a href="#other-features" class="anchor"></a>Other Features</h1>
<p><strong>All introduction for other functions are removed on purpose since I am not sure if they can work with latest version of mlr3 at this time. Will add them back later.</strong></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
        <div id="tocnav">
      <h2 class="hasAnchor">
<a href="#tocnav" class="anchor"></a>Contents</h2>
      <ul class="nav nav-pills nav-stacked">
<li>
<a href="#learner-and-task-related">Learner and Task related</a><ul class="nav nav-pills nav-stacked">
<li><a href="#plotlearnerprediction">plotLearnerPrediction</a></li>
      <li><a href="#combination-of-plotlearnerprediction">Combination of plotLearnerPrediction</a></li>
      </ul>
</li>
      <li><a href="#other-features">Other Features</a></li>
      </ul>
</div>
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Linlin Yin.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
